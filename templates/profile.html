{% extends 'base.html' %}
{% set active_page = "profile" %}
{% block content %}
<div class="row" style="justify-content: center;">
    <div class="col-8 m-3" style="text-align: center;">
        <div class="card">
            <h3 class="card-title">
                {{ username }}'s Books
            </h3>
        </div>
    </div>
</div>

<div class="row">
    {% if developer_books %}
    {% for book in developer_books %}
    <div class="col s12 m6 l4">
        <!--Each Individual Card-->
        <div class="card">
            <div class="card-image">
                <img src="{{ book.imgURL }}">
                <a href="#" class="btn-floating halfway-fab waves-effect waves-light"><i class="fas fa-plus-circle"></i></a>
            </div>
            <div class="card-content">
                <h4 class="card-title">{{ book.title }}</h4>
                <p>{{ book.author }}</p>
                <p>Added by: {{ book.added_by }}</p>
                <p>Rating: {{ book.rating }} /5 </p>
                {% if session.user %}
                {% if session.user|lower == book.added_by|lower %}
                <a class="btn waves-effect waves-light" href="{{ url_for('edit_book', book_id=book._id) }}"><i
                        class="far fa-edit"></i>Edit</a>
                <a class="btn waves-effect waves-light" href="{{ url_for('delete_book', book_id=book._id) }}"><i
                        class="far fa-trash-alt"></i>Delete</a>
                {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
    {% endfor %}
    {% else %}
    <div class="col s8 m8 l8">
        <h3>There are currently no books in your profile!</h3>
        <p>Why not go ahead and add a book now: <a class="btn waves-effect waves-light" href="{{ url_for('add_book') }}"><i class="far fa-plus-square"></i> Add a Book</a></p>
    </div>
    {% endif %}
</div>
{% endblock %}